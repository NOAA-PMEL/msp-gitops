apiVersion: eventing.knative.dev/v1
kind: Trigger
metadata:
  name: dashboard-to-mqtt
  # namespace: mspbase01-system
spec:
  broker: default
  filters:
     - any:
        - exact:
            type: envds.controller.control.request
        # - exact:
        #     type: envds.registry.sync-update
        # - exact:
        #     type: envds.registry.sync-request
    #  - exact:
    #     # exact:
    #       source: envds.mspbase01.dashboard
  # filter:
  #   attributes:
  #     type: envds.registry-sync.broadcast
  subscriber:
    ref:
      apiVersion: serving.knative.dev/v1
      kind: Service
      name: kn-mqtt-adapter
      # namespace: msp-system
    uri: /mqtt/send/
